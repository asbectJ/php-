<?php
/**
 * Created by PhpStorm.
 * User: tanjj
 * Date: 2018/2/26
 * Time: 22:13
 */
//基数排序，递归入桶（稳定）  o(n*K)
$arr = array(20, 18, 10, 2, 15, 14, 13, 16, 17, 12, 2, 3, 6, 5, 6, 5, 5, 111, 2222, 5555, 666, 88, 20, 18, 10, 2, 15, 14, 13, 16, 17, 12, 2, 3, 6, 5, 6, 5, 5,
    111, 2222, 5555, 666, 88, 20, 18, 10, 2, 15, 14, 13, 16, 17, 12, 2, 3, 6, 5, 6, 5, 5, 111, 2222, 5555, 666, 88, 20, 18, 10,
    2, 15, 14, 13, 16, 17, 12, 2, 3, 6, 5, 6, 5, 5, 111, 2222, 5555, 666, 88, 20, 18, 10, 2, 15, 14, 13, 16, 17, 12, 2, 3, 6, 5, 6, 5, 5, 111, 2222, 5555, 666, 88
, 20, 18, 10, 2, 15, 14, 13, 16, 17, 12, 2, 3, 6, 5, 6, 5, 5, 111, 2222, 5555, 666, 88, 20, 18, 10, 2, 15, 14, 13, 16, 17, 12, 2, 3, 6, 5, 6, 5, 5, 111, 2222, 5555, 666, 88);
$ret = array();
$ret = base_number($arr, 1);
function base_number($arr, $num = 1)
{
    static $ret;
    $a = array();
    $len = count($arr);
    for ($i = 0; $i < $len; $i++) {
        $mod = ($arr[$i] / $num) % 10;
        $a[$mod][] = $arr[$i];
    }
    if (count($a[0]) >= $len) {
        $ret = $arr;
        return $ret;
    }
    $arr = array();
    for ($j = 0; $j <= 9; $j++) {
        if (isset($a[$j])) {
            $arr = array_merge($arr, $a[$j]);
        }
    }
    base_number($arr, $num * 10);
    return $ret;
}